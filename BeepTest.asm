; BeepTest.asm
; Sends the value from the switches to the
; tone generator peripheral once per second.
ORG 0


LOADI 20
OUT duration
LOADI 104
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 110
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 117
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 123
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 130
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 139
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 146
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 155
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 166
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 174
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 185
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 196
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 208
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 220
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 233
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 248
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 262
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 277
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 293
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 311
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 330
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 349
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 371
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 393
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 416
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 440
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 466
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 494
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 523
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 554
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 587
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 623
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 659
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 699
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 740
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 784
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 831
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 880
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 932
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 987
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 1046
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 1109
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 1175
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 1245
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 1318
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 1398
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 1480
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 1568
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 1661
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 1759
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 1865
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 1976
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 2093
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 2218
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 2350
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 2489
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 2637
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 2794
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 2961
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 3137
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 3323
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 3520
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 3730
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 3951
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 4187
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 4436
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 4700
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 4978
OUT    Beep
CALL    Delay



OLDMCD:
LOADI 20
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  401
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  450
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  450
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  401
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  674
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  674
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  601
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  601
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
CALL    Delay
LOADI 20
OUT duration
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  401
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  401
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  450
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  450
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  401
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  674
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  674
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  601
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  601
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
CALL    Delay
LOADI 20
OUT duration
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 10
OUT duration
LOADI  401
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 10
OUT duration
LOADI  401
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 10
OUT duration
LOADI  401
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 10
OUT duration
LOADI  401
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
CALL    Delay
LOADI 01
OUT    ChnSel
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 10
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 10
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 10
OUT    ChnSel
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 10
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 10
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 01
OUT    ChnSel
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 10
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 10
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 10
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 10
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 10
OUT    ChnSel
LOADI 20
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 11
OUT    ChnSel
JUMP OLDMCD








delay:
	IN Duration
	JZERO delay

	RETURN




; IO address constants
Switches:  EQU 000
LEDs:      EQU 001
Timer:     EQU 002
Hex0:      EQU 004
Hex1:      EQU 005
OneSec:    EQU 010
OneTenth:  EQU 001
Left:	   DW  &B01
Beep:      EQU &H40
ChnSel:	   EQU &H41
Duration:  EQU &H42
