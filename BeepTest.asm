; BeepTest.asm
; Sends the value from the switches to the
; tone generator peripheral once per second.

ORG 0
LOADI  535
OUT    Beep
LOADI 4
OUT duration
CALL    Delay
LOADI 0
OUT    Beep
LOADI 1
OUT duration
CALL    Delay
LOADI  535
OUT    Beep
LOADI 4
OUT duration
CALL    Delay
LOADI 0
OUT    Beep
LOADI 1
OUT duration
CALL    Delay
LOADI  535
OUT    Beep
LOADI 4
OUT duration
CALL    Delay
LOADI 0
OUT    Beep
LOADI 1
OUT duration
CALL    Delay
LOADI  401
OUT    Beep
LOADI 4
OUT duration
CALL    Delay
LOADI 0
OUT    Beep
LOADI 1
OUT duration
CALL    Delay
LOADI  450
OUT    Beep
LOADI 4
OUT duration
CALL    Delay
LOADI 0
OUT    Beep
LOADI 1
OUT duration
CALL    Delay
LOADI  450
OUT    Beep
LOADI 4
OUT duration
CALL    Delay
LOADI 0
OUT    Beep
LOADI 1
OUT duration
CALL    Delay
LOADI  401
OUT    Beep
LOADI 4
OUT duration
CALL    Delay
LOADI 4
OUT duration
CALL    Delay
LOADI 0
OUT    Beep
LOADI 1
OUT duration
CALL    Delay
LOADI  674
OUT    Beep
LOADI 4
OUT duration
CALL    Delay
LOADI 0
OUT    Beep
LOADI 1
OUT duration
CALL    Delay
LOADI  674
OUT    Beep
LOADI 4
OUT duration
CALL    Delay
LOADI 0
OUT    Beep
LOADI 1
OUT duration
CALL    Delay
LOADI  601
OUT    Beep
LOADI 4
OUT duration
CALL    Delay
LOADI 0
OUT    Beep
LOADI 1
OUT duration
CALL    Delay
LOADI  601
OUT    Beep
LOADI 4
OUT duration
CALL    Delay
LOADI 0
OUT    Beep
LOADI 1
OUT duration
CALL    Delay
LOADI  535
OUT    Beep
LOADI 4
OUT duration
CALL    Delay
LOADI 4
OUT duration
CALL    Delay
LOADI 4
OUT duration
CALL    Delay
LOADI 0
OUT    Beep
LOADI 1
OUT duration
CALL    Delay
LOADI  401
OUT    Beep
LOADI 4
OUT duration
CALL    Delay
LOADI 0
OUT    Beep
LOADI 1
OUT duration
CALL    Delay
LOADI  535
OUT    Beep
LOADI 4
OUT duration
CALL    Delay
LOADI 0
OUT    Beep
LOADI 1
OUT duration
CALL    Delay
LOADI  535
OUT    Beep
LOADI 4
OUT duration
CALL    Delay
LOADI 0
OUT    Beep
LOADI 1
OUT duration
CALL    Delay
LOADI  535
OUT    Beep
LOADI 4
OUT duration
CALL    Delay
LOADI 0
OUT    Beep
LOADI 1
OUT duration
CALL    Delay
LOADI  401
OUT    Beep
LOADI 4
OUT duration
CALL    Delay
LOADI 0
OUT    Beep
LOADI 1
OUT duration
CALL    Delay
LOADI  450
OUT    Beep
LOADI 4
OUT duration
CALL    Delay
LOADI 0
OUT    Beep
LOADI 1
OUT duration
CALL    Delay
LOADI  450
OUT    Beep
LOADI 4
OUT duration
CALL    Delay
LOADI 0
OUT    Beep
LOADI 1
OUT duration
CALL    Delay
LOADI  401
OUT    Beep
LOADI 4
OUT duration
CALL    Delay
LOADI 4
OUT duration
CALL    Delay
LOADI 0
OUT    Beep
LOADI 1
OUT duration
CALL    Delay
LOADI  674
OUT    Beep
LOADI 4
OUT duration
CALL    Delay
LOADI 0
OUT    Beep
LOADI 1
OUT duration
CALL    Delay
LOADI  674
OUT    Beep
LOADI 4
OUT duration
CALL    Delay
LOADI 0
OUT    Beep
LOADI 1
OUT duration
CALL    Delay
LOADI  601
OUT    Beep
LOADI 4
OUT duration
CALL    Delay
LOADI 0
OUT    Beep
LOADI 1
OUT duration
CALL    Delay
LOADI  601
OUT    Beep
LOADI 4
OUT duration
CALL    Delay
LOADI 0
OUT    Beep
LOADI 1
OUT duration
CALL    Delay
LOADI  535
OUT    Beep
LOADI 4
OUT duration
CALL    Delay
LOADI 4
OUT duration
CALL    Delay
LOADI 4
OUT duration
CALL    Delay
LOADI 0
OUT    Beep
LOADI 1
OUT duration
CALL    Delay
LOADI  401
OUT    Beep
LOADI 4
OUT duration
CALL    Delay
LOADI 0
OUT    Beep
LOADI 1
OUT duration
CALL    Delay
LOADI  401
OUT    Beep
LOADI 4
OUT duration
CALL    Delay
LOADI 0
OUT    Beep
LOADI 1
OUT duration
CALL    Delay
LOADI  535
OUT    Beep
LOADI 4
OUT duration
CALL    Delay
LOADI 0
OUT    Beep
LOADI 1
OUT duration
CALL    Delay
LOADI  535
OUT    Beep
LOADI 4
OUT duration
CALL    Delay
LOADI 0
OUT    Beep
LOADI 1
OUT duration
CALL    Delay
LOADI  535
OUT    Beep
LOADI 4
OUT duration
CALL    Delay
LOADI 0
OUT    Beep
LOADI 1
OUT duration
CALL    Delay
LOADI  401
OUT    Beep
LOADI 4
OUT duration
CALL    Delay
LOADI 0
OUT    Beep
LOADI 1
OUT duration
CALL    Delay
LOADI  401
OUT    Beep
LOADI 4
OUT duration
CALL    Delay
LOADI 0
OUT    Beep
LOADI 1
OUT duration
CALL    Delay
LOADI  535
OUT    Beep
LOADI 4
OUT duration
CALL    Delay
LOADI 0
OUT    Beep
LOADI 1
OUT duration
CALL    Delay
LOADI  535
OUT    Beep
LOADI 4
OUT duration
CALL    Delay
LOADI 0
OUT    Beep
LOADI 1
OUT duration
CALL    Delay
LOADI  535
OUT    Beep
LOADI 4
OUT duration
CALL    Delay
LOADI 4
OUT duration
CALL    Delay
LOADI 01
OUT    ChnSel
LOADI 0
OUT    Beep
LOADI 1
OUT duration
CALL    Delay
LOADI  535
OUT    Beep
LOADI 2
OUT duration
CALL    Delay
LOADI 0
OUT    Beep
LOADI 1
OUT duration
CALL    Delay
LOADI  535
OUT    Beep
LOADI 2
OUT duration
CALL    Delay
LOADI 0
OUT    Beep
LOADI 1
OUT duration
CALL    Delay
LOADI  535
OUT    Beep
LOADI 4
OUT duration
CALL    Delay
LOADI 10
OUT    ChnSel
LOADI 0
OUT    Beep
LOADI 1
OUT duration
CALL    Delay
LOADI  535
OUT    Beep
LOADI 2
OUT duration
CALL    Delay
LOADI 0
OUT    Beep
LOADI 1
OUT duration
CALL    Delay
LOADI  535
OUT    Beep
LOADI 2
OUT duration
CALL    Delay
LOADI 0
OUT    Beep
LOADI 1
OUT duration
CALL    Delay
LOADI  535
OUT    Beep
LOADI 4
OUT duration
CALL    Delay
LOADI 01
OUT    ChnSel
LOADI 0
OUT    Beep
LOADI 1
OUT duration
CALL    Delay
LOADI  535
OUT    Beep
LOADI 2
OUT duration
CALL    Delay
LOADI 0
OUT    Beep
LOADI 1
OUT duration
CALL    Delay
LOADI  535
OUT    Beep
LOADI 2
OUT duration
CALL    Delay
LOADI 0
OUT    Beep
LOADI 1
OUT duration
CALL    Delay
LOADI  535
OUT    Beep
LOADI 2
OUT duration
CALL    Delay
LOADI 0
OUT    Beep
LOADI 1
OUT duration
CALL    Delay
LOADI  535
OUT    Beep
LOADI 2
OUT duration
CALL    Delay
LOADI 0
OUT    Beep
LOADI 1
OUT duration
CALL    Delay
LOADI 10
OUT    ChnSel
LOADI  535
OUT    Beep
LOADI 4
OUT duration
CALL    Delay
LOADI 0
OUT    Beep
LOADI 1
OUT duration
CALL    Delay
LOADI  535
OUT    Beep
LOADI 4
OUT duration
CALL    Delay
LOADI 0
OUT    Beep
LOADI 1
OUT duration
CALL    Delay
LOADI 11
OUT    ChnSel
JUMP 0


delay:
	IN Duration
	JZERO delay

	RETURN




; IO address constants
Switches:  EQU 000
LEDs:      EQU 001
Timer:     EQU 002
Hex0:      EQU 004
Hex1:      EQU 005
OneSec:    EQU 010
OneTenth:  EQU 001
Left:	   DW  &B01
Beep:      EQU &H40
ChnSel:	   EQU &H41
Duration:  EQU &H42
