; BeepTest.asm
; Sends the value from the switches to the
; tone generator peripheral once per second.
ORG 0


LOADI 20
OUT duration
LOADI 71
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 75
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 80
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 84
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 89
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 95
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 100
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 106
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 113
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 119
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 126
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 134
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 142
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 150
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 159
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 169
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 179
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 189
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 200
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 212
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 225
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 238
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 253
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 268
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 284
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 300
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 318
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 337
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 357
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 378
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 401
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 425
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 450
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 477
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 505
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 535
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 567
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 601
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 636
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 674
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 714
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 757
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 802
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 850
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 900
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 954
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 1010
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 1070
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 1134
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 1201
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 1273
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 1349
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 1429
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 1514
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 1604
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 1699
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 1800
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 1907
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI 2021
OUT    Beep
CALL    Delay




OLDMCD:
LOADI 20
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  401
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  450
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  450
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  401
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  674
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  674
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  601
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  601
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
CALL    Delay
LOADI 20
OUT duration
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  401
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  401
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  450
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  450
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  401
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  674
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  674
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  601
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  601
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
CALL    Delay
LOADI 20
OUT duration
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 10
OUT duration
LOADI  401
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 10
OUT duration
LOADI  401
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 10
OUT duration
LOADI  401
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 10
OUT duration
LOADI  401
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
CALL    Delay
LOADI 01
OUT    ChnSel
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 10
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 10
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 10
OUT    ChnSel
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 10
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 10
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 01
OUT    ChnSel
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 10
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 10
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 10
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 10
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 10
OUT    ChnSel
LOADI 20
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 20
OUT duration
LOADI  535
OUT    Beep
CALL    Delay
LOADI 1
OUT duration
LOADI 0
OUT    Beep
CALL    Delay
LOADI 11
OUT    ChnSel
JUMP OLDMCD








delay:
	IN Duration
	JZERO delay

	RETURN




; IO address constants
Switches:  EQU 000
LEDs:      EQU 001
Timer:     EQU 002
Hex0:      EQU 004
Hex1:      EQU 005
OneSec:    EQU 010
OneTenth:  EQU 001
Left:	   DW  &B01
Beep:      EQU &H40
ChnSel:	   EQU &H41
Duration:  EQU &H42
